/* Flash OS Routines (Automagically Generated)
 * Copyright (c) 2009-2019 ARM Limited
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

//static const uint32_t mkv58f_flash_prog_blob[] = {
//    0xE00ABE00, 0x062D780D, 0x24084068, 0xD3000040, 0x1E644058, 0x1C49D1FA, 0x2A001E52, 0x4770D1F2,
//    0xb510483e, 0x5120f24c, 0xf64d81c1, 0x81c11128, 0xf0218801, 0x80010101, 0x78414839, 0x0160f001,
//    0xbf0c2940, 0x21002101, 0x444a4a36, 0xb1397011, 0xf0217841, 0x70410160, 0xf0117841, 0xd1fb0f60,
//    0x44484831, 0xf864f000, 0xbf182800, 0xbd102001, 0x4448482c, 0xb1587800, 0x78414829, 0x0160f021,
//    0x0140f041, 0x78417041, 0x0160f001, 0xd1fa2940, 0x47702000, 0xb5104824, 0x44484924, 0xf891f000,
//    0xbf182800, 0x2100bd10, 0xe8bd481f, 0x44484010, 0xb958f000, 0x4c1cb570, 0x444c4605, 0x4b1b4601,
//    0x68e24620, 0xf8b6f000, 0xbf182800, 0x2300bd70, 0x68e24629, 0x4070e8bd, 0x44484813, 0xb94cf000,
//    0x460cb570, 0x4606460b, 0x480f4601, 0x4615b084, 0xf0004448, 0x2800f8eb, 0xb004bf1c, 0x2000bd70,
//    0xe9cd2101, 0x90021000, 0x462b4807, 0x46314622, 0xf0004448, 0xb004f97f, 0x0000bd70, 0x40052000,
//    0x4007e000, 0x00000004, 0x00000008, 0x6b65666b, 0xbf042800, 0x47702004, 0x6cc949ea, 0x6103f3c1,
//    0xbf08290f, 0x1180f44f, 0x4ae7bf1f, 0xf832447a, 0x02891011, 0xe9c02200, 0x21022100, 0x61426081,
//    0x618202c9, 0x1203e9c0, 0x52a0f04f, 0x2108e9c0, 0x47702000, 0xbf0e2800, 0x61012004, 0x47702000,
//    0x48da4602, 0x49d96840, 0x0070f440, 0x47706048, 0x217048d7, 0x21807001, 0x78017001, 0x0f80f011,
//    0x7800d0fb, 0x0f20f010, 0x2067bf1c, 0xf0104770, 0xbf1c0f10, 0x47702068, 0x0001f010, 0x2069bf18,
//    0x28004770, 0x2004bf04, 0xb5104770, 0x4ac84604, 0x403bf06f, 0x48c76050, 0xbf144281, 0x2000206b,
//    0xbf182800, 0x4620bd10, 0xffd2f7ff, 0x46204603, 0xffc6f7ff, 0xbd104618, 0xbf042800, 0x47702004,
//    0x60532300, 0x60d36093, 0x61536113, 0x61d36193, 0x68c16011, 0xe9d06051, 0xfbb11001, 0x6090f0f0,
//    0x21102008, 0x0103e9c2, 0x1005e9c2, 0x61d02004, 0x47702000, 0x4df0e92d, 0x4615b088, 0x460c4698,
//    0x466a4682, 0xffd8f7ff, 0x4621462a, 0x9b044650, 0xf931f000, 0xbf1c0007, 0xe8bdb008, 0xe9dd8df0,
//    0x19604600, 0xfbb51e45, 0xfb06f0f6, 0xb1205010, 0xf0f6fbb5, 0x43701c40, 0x42ac1e45, 0xf8dfbf98,
//    0xd81cb270, 0x407ff024, 0x6010f040, 0x0004f8cb, 0x45804898, 0x206bbf14, 0x28002000, 0xb008bf1c,
//    0x8df0e8bd, 0xf7ff4650, 0x4607ff73, 0x0010f8da, 0xbf182800, 0xb9174780, 0x42ac4434, 0x4650d9e2,
//    0xff5ef7ff, 0x4638b008, 0x8df0e8bd, 0xbf042a00, 0x47702004, 0x45f0e92d, 0x4614b089, 0x460d461e,
//    0x466a4680, 0xff88f7ff, 0x46294632, 0x9b034640, 0xf8e1f000, 0xbf1c0007, 0xe8bdb009, 0x9d0085f0,
//    0xbf182e00, 0xa1e8f8df, 0xf854d025, 0xf8ca0b04, 0x98030008, 0xbf042804, 0x407ff025, 0x60c0f040,
//    0x2808d009, 0xf854d109, 0xf8ca0b04, 0xf025000c, 0xf040407f, 0xf8ca60e0, 0x46400004, 0xff28f7ff,
//    0x1010f8d8, 0x29004607, 0x4788bf18, 0x9803b91f, 0x1a364405, 0x4640d1d9, 0xff12f7ff, 0x4638b009,
//    0x85f0e8bd, 0xbf042800, 0x47702004, 0xea424a62, 0x4a5f4101, 0xe70b6051, 0x4dffe92d, 0x4614b088,
//    0x460d469a, 0x9808466a, 0xff36f7ff, 0x46294622, 0x98089b05, 0xf88ff000, 0xbf1c2800, 0xe8bdb00c,
//    0x466a8df0, 0x98084629, 0xff26f7ff, 0xf8dd9e00, 0x42708008, 0x0100f1c8, 0x42474008, 0xbf0842b7,
//    0x2c004447, 0xf8dfbf18, 0xd01fb128, 0x42a51bbd, 0x4625bf88, 0xf0269805, 0xfbb5417f, 0xf041f0f0,
//    0xf8cb7180, 0x04001004, 0x200aea40, 0x00fff040, 0x0008f8cb, 0xf7ff9808, 0x2800fecb, 0xb00cbf1c,
//    0x8df0e8bd, 0x442e1b64, 0xd1df4447, 0x2000b00c, 0x8df0e8bd, 0xbf042b00, 0x47702004, 0x4dffe92d,
//    0x4616b088, 0x7a14e9dd, 0x460c461d, 0xf8dd466a, 0x98088058, 0xfee0f7ff, 0x3007e9dd, 0x46214632,
//    0xf839f000, 0xbf1c2800, 0xe8bdb00c, 0x9c008df0, 0xbf042e00, 0xe8bdb00c, 0xf8df8df0, 0xf06fb094,
//    0xea40407f, 0xf0246707, 0xf040407f, 0xf8cb7000, 0xf8cb0004, 0x68287008, 0x000cf8cb, 0xf7ff9808,
//    0xb168fe87, 0x0f00f1ba, 0xf8cabf18, 0xf1b84000, 0xbf1c0f00, 0xf8c82100, 0xb00c1000, 0x8df0e8bd,
//    0x1a769907, 0x0103f021, 0x9907440d, 0xd1da440c, 0xe8bdb00c, 0x28008df0, 0x2004bf04, 0xf1a34770,
//    0x42190301, 0x421abf0e, 0x47702065, 0x428b6803, 0x6840d806, 0x44184411, 0xbf244288, 0x47702000,
//    0x47702066, 0x40048000, 0x000003b4, 0x4001f000, 0x40020000, 0x6b65666b, 0x4000ffff, 0x40020004,
//    0x40020010, 0x00100008, 0x00200018, 0x00400030, 0x00800060, 0x010000c0, 0x02000180, 0x04000300,
//    0x00000600, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
//    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
//};

//// Start address of flash
//static const uint32_t flash_start = 0x10000000;
//// Size of flash
//static const uint32_t flash_size = 0x00100000;

///**
//* List of start and size for each size of flash sector
//* The size will apply to all sectors between the listed address and the next address
//* in the list.
//* The last pair in the list will have sectors starting at that address and ending
//* at address start + size.
//*/
//static const sector_info_t sectors_info[] = {
//    { 0x10000000, 0x00001000 },
//};

//static const program_target_t flash = {
//    0x20000021, // Init
//    0x20000071, // UnInit
//    0x20000095, // EraseChip
//    0x200000b5, // EraseSector
//    0x200000e1, // ProgramPage
//    0x0,        // Verify

//    // BKPT : start of blob + 1
//    // RSB  : blob start + header + rw data offset
//    // RSP  : stack pointer
//    {
//        0x00000001,
//        0x00000524,
//        0x00000800
//    },

//    0x20000000 + 0x00000A00,  // mem buffer location
//    0x20000000,               // location to write prog_blob in target RAM
//    sizeof(mkv58f_flash_prog_blob),   // prog_blob size
//    mkv58f_flash_prog_blob,           // address of prog_blob
//    0x00000400       // ram_to_flash_bytes_to_be_written
//};


///* Flash OS Routines (Automagically Generated)
// * Copyright (c) 2009-2015 ARM Limited
// *
// * Licensed under the Apache License, Version 2.0 (the "License");
// * you may not use this file except in compliance with the License.
// * You may obtain a copy of the License at
// *
// *     http://www.apache.org/licenses/LICENSE-2.0
// *
// * Unless required by applicable law or agreed to in writing, software
// * distributed under the License is distributed on an "AS IS" BASIS,
// * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// * See the License for the specific language governing permissions and
// * limitations under the License.
// */

static const uint32_t flashalgo_kv5_flash_prog_blob[] = {
    0xE00ABE00, 0x062D780D, 0x24084068, 0xD3000040, 0x1E644058, 0x1C49D1FA, 0x2A001E52, 0x4770D1F2,
    0xb5104936, 0x60084449, 0x5120f24c, 0x81c14834, 0x1128f64d, 0x880181c1, 0x0101f021, 0x48328001,
    0x49302200, 0x60014448, 0x604102c9, 0x60811209, 0x31fff04f, 0x1205e9c0, 0x2020f880, 0xf0006241,
    0x2800f93a, 0x2001d000, 0x2000bd10, 0x4a274770, 0x447ab508, 0x92002300, 0x02cff3c1, 0x48224601,
    0xf0004448, 0x2800f97a, 0x2001d000, 0x491fbd08, 0x4479481d, 0x44483920, 0xf000b508, 0x2800f8a0,
    0x481ad10e, 0x4b1a4478, 0x447b3832, 0x48169000, 0x49182208, 0xf0004448, 0x2800f9a9, 0x2001d000,
    0x4b12bd08, 0x4601447b, 0x3b52480f, 0x5200f44f, 0xf0004448, 0xb508b8b8, 0x46131dc9, 0x0207f021,
    0x4479490a, 0x91003970, 0x48074601, 0xf0004448, 0x2800f98d, 0x2001d000, 0x0000bd08, 0x00000004,
    0x40052000, 0x40020000, 0x00000008, 0x000000a3, 0x0000041a, 0x10000408, 0x4604b570, 0x25006800,
    0x061b7803, 0x2370d5fc, 0x20007003, 0x280ce03a, 0xe8dfd236, 0x0a06f000, 0x1a16120e, 0x2a26221e,
    0x6826322e, 0x71f37813, 0x6826e02a, 0x71b37853, 0x6826e026, 0x71737893, 0x6826e022, 0x713378d3,
    0x6826e01e, 0x72f37913, 0x6826e01a, 0x72b37953, 0x6826e016, 0x72737993, 0x6826e012, 0x723379d3,
    0x6826e00e, 0x73f37a13, 0x6826e00a, 0x73b37a53, 0x6826e006, 0x73737a93, 0x6826e002, 0x73337ad3,
    0xb2c01c40, 0xd9c24288, 0x20806821, 0xe0037008, 0x1c416a60, 0x4780d000, 0x78006820, 0xd5f70600,
    0x78006820, 0xd5010681, 0xe0062504, 0xd50106c1, 0xe0022508, 0xd00007c0, 0x46282510, 0xb508bd70,
    0x460b2244, 0xf88d2100, 0x466a2000, 0xbd084798, 0x4614b538, 0xd002078a, 0x7080f44f, 0x6843bd38,
    0xd803428b, 0x441a6882, 0xd80c428a, 0x428b68c3, 0x6902d803, 0x428a441a, 0x2002d801, 0x1ac9bd38,
    0x0100f501, 0x1ac9e000, 0xf88d2208, 0x0c0a2000, 0x2001f88d, 0xf88d0a0a, 0xf88d2002, 0x21031003,
    0x47a0466a, 0xe92dbd38, 0x460745f8, 0x46164698, 0x687b2000, 0x428b198a, 0x68bcd803, 0x4294441c,
    0x68fbd20e, 0xd803428b, 0x441c693c, 0xd2024294, 0xe8bd2002, 0x1acc85f8, 0xf5042500, 0xe0020400,
    0xf44f1acc, 0xfbb45500, 0xfb05f1f5, 0xb1114111, 0x7080f44f, 0xfbb6e7ed, 0xfb05f1f5, 0xb1a96111,
    0xe7e62001, 0xa000f88d, 0xf88d0c20, 0x0a200001, 0x0002f88d, 0x46432103, 0x4638466a, 0x4003f88d,
    0x28004798, 0x1b76d1d5, 0xe001442c, 0x0a09f04f, 0xd1e72e00, 0x4601e7cd, 0x61082000, 0x477061c8,
    0x47fce92d, 0x46074616, 0x461d2000, 0x8028f8dd, 0x078b198a, 0xf44fd003, 0xe8bd7080, 0x07b387fc,
    0x2001d001, 0x687be7f9, 0xd803428b, 0x441c68bc, 0xd20c4294, 0x428b68fb, 0x693cd803, 0x4294441c,
    0x2002d201, 0x1acce7e9, 0x0400f504, 0x1acce000, 0x0a06f04f, 0xd0e02e00, 0xa000f88d, 0xf88d0c20,
    0x0a200001, 0x0002f88d, 0x4003f88d, 0xf88d78e8, 0x78a80004, 0x0005f88d, 0xf88d7868, 0x78280006,
    0x46432107, 0x0007f88d, 0x4638466a, 0x28004798, 0x1d24d1c3, 0x1f361d2d, 0xe92de7dc, 0x684641fc,
    0x0482eb01, 0x428e9d08, 0x6887d803, 0x428f4437, 0x68c7d80a, 0xd804428f, 0xc010f8d0, 0x428f4467,
    0x2002d802, 0x81fce8bd, 0xd80642a6, 0x44376887, 0xd30242a7, 0x24041b89, 0x68c6e00a, 0xd90342a6,
    0x44376907, 0xd3ec42a7, 0x24041b89, 0x0100f501, 0xf6f4fbb1, 0x1416fb04, 0xf44fb114, 0xe7e17080,
    0xf88d2401, 0x0c0c4000, 0x4001f88d, 0xf88d0a0c, 0xf88d4002, 0x0a111003, 0x1004f88d, 0xf88d2106,
    0x466a2005, 0x3006f88d, 0xe7cb47a8, 0x43fee92d, 0x46074616, 0x461c2000, 0x8028f8dd, 0x074b198a,
    0xf44fd003, 0xe8bd7080, 0x077383fe, 0x2001d001, 0x687be7f9, 0xd803428b, 0x441d68bd, 0xd20c4295,
    0x428b68fb, 0x693dd803, 0x4295441d, 0x2002d201, 0x1acde7e9, 0x0500f505, 0x1acde02e, 0x2007e02c,
    0x0000f88d, 0xf88d0c28, 0x0a280001, 0x0002f88d, 0x5003f88d, 0xf88d78e0, 0x78a00004, 0x0005f88d,
    0xf88d7860, 0x78200006, 0x0007f88d, 0xf88d79e0, 0x79a00008, 0x0009f88d, 0xf88d7960, 0x7920000a,
    0x4643210b, 0x000bf88d, 0x4638466a, 0x28004798, 0x3408d1b9, 0x3e083508, 0xd1d02e00, 0x0000e7b3,
    0xfffffffe, 0x00000000, 0xffffffff, 0xfffffffe, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
};

// Start address of flash
static const uint32_t flash_start = 0x10000000;
// Size of flash
static const uint32_t flash_size = 0x00080000;

static const sector_info_t sectors_info[] = {
    { 0x10000000, 0x00002000 },
};

static const program_target_t flash = {
    0x20000021, // Init
    0x2000006b, // UnInit
    0x2000008f, // EraseChip
    0x200000c3, // EraseSector
    0x200000d7, // ProgramPage
    0x0, // Verify

    // BKPT : start of blob + 1
    // RSB  : blob start + header + rw data offset
    // RSP  : stack pointer
    {
        0x20000001,
        0x200004d0,
        0x20000700
    },

    0x20000000 + 0x00003000,   // mem buffer location
    0x20000000,                // location to write prog_blob in target RAM
    sizeof(flashalgo_kv5_flash_prog_blob), // prog_blob size
    flashalgo_kv5_flash_prog_blob,         // address of prog_blob
    0x00000200                 // ram_to_flash_bytes_to_be_written
};
